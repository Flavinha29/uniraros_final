{% extends "base.html" %}

{% block title %}Eventos - UniRaros{% endblock %}

{% block content %}
<div class="container my-5">
    <!-- Cabeçalho -->
    <div class="text-center mb-5">
        <h1 class="display-5 fw-bold mb-3" style="color: var(--roxo);">
            <i class="bi bi-calendar-week me-2"></i>Eventos
        </h1>
        <p class="lead fs-5 text-muted" style="max-width: 700px; margin: 0 auto;">
            Encontre palestras, workshops e encontros sobre doenças raras.
        </p>
        <div class="mt-3">
            <div style="width: 80px; height: 3px; background-color: var(--roxo); margin: 0 auto; border-radius: 2px;"></div>
        </div>
    </div>

    {% if eventos %}
        <div class="row">
            {% for evento in eventos %}
                <div class="col-md-4 mb-4">
                    <div class="card h-100 border-0 shadow-sm" style="transition: transform 0.3s ease; border: 1px solid rgba(0,0,0,0.08);">
                        <div class="card-header py-3" style="background-color: #f8f9fa; border-bottom: 1px solid rgba(0,0,0,0.08);">
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="text-muted">
                                    <i class="bi bi-calendar-check me-1"></i> {{ evento.data_inicio|date:"d/m" }}
                                </span>
                                <span class="badge rounded-pill" style="background-color: var(--roxo); color: white;">
                                    {{ evento.tipo|default:"Evento" }}
                                </span>
                            </div>
                        </div>
                        
                        <div class="card-body">
                            <h5 class="card-title" style="color: var(--roxo);">{{ evento.nome }}</h5>
                            
                            {% if evento.descricao %}
                                <p class="card-text text-muted mt-3">{{ evento.descricao|truncatewords:25 }}</p>
                            {% endif %}
                            
                            <div class="mt-4 pt-3 border-top">
                                <p class="mb-2">
                                    <i class="bi bi-clock me-2" style="color: #6c757d;"></i>
                                    <small class="text-muted">{{ evento.data_inicio|date:"d/m/Y • H:i" }}</small>
                                </p>
                                
                                {% if evento.data_fim %}
                                <p class="mb-2">
                                    <i class="bi bi-clock-history me-2" style="color: #6c757d;"></i>
                                    <small class="text-muted">Até {{ evento.data_fim|date:"d/m/Y • H:i" }}</small>
                                </p>
                                {% endif %}
                                
                                {% if evento.local %}
                                <p class="mb-0">
                                    <i class="bi bi-geo-alt me-2" style="color: #6c757d;"></i>
                                    <small class="text-muted">{{ evento.local|truncatechars:30 }}</small>
                                </p>
                                {% endif %}
                            </div>
                        </div>
                        
                        <div class="card-footer bg-white border-0 pt-0" style="border-top: 1px solid rgba(0,0,0,0.08);">
                            <a href="{% url 'detalhe_evento' evento.pk %}" class="btn w-100" 
                               style="background-color: #f8f9fa; color: var(--roxo); border: 1px solid rgba(91, 44, 111, 0.2);">
                                <i class="bi bi-eye me-2"></i>Ver detalhes
                            </a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="text-center py-5" style="background-color: #f8f9fa; border-radius: 10px; border: 1px solid rgba(0,0,0,0.08);">
            <i class="bi bi-calendar-x display-1 mb-3" style="color: #adb5bd;"></i>
            <h5 style="color: var(--roxo);">Nenhum evento cadastrado</h5>
            <p class="text-muted">Em breve teremos novos eventos para você participar.</p>
        </div>
    {% endif %}
</div>

<style>
    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.08) !important;
        border-color: rgba(91, 44, 111, 0.2) !important;
    }
    
    .btn {
        transition: all 0.3s ease;
        border-radius: 6px;
    }
    
    .btn:hover {
        background-color: var(--roxo) !important;
        color: white !important;
        border-color: var(--roxo) !important;
    }
</style>
{% endblock %}